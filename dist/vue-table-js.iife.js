var VueTableJs=function(){"use strict";function t(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&-1===e.indexOf(r)&&(n[r]=t[r]);return n}function e(t){return"[object Object]"===Object.prototype.toString.call(t)}function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function r(t){var e=t.path,n=t.sortable;return"string"==typeof n?n:e}function o(n){var r=[],o=[],s=function t(n){return n.reduce(function(n,r){return e(r)&&Array.isArray(r.children)&&r.children.length>0?Math.max(t(r.children)+1,n):n},1)}(n);return function n(r,o,s,a,u,c){void 0===u&&(u=0);void 0===c&&(c="");s.forEach(function(s){var l=function(t,n){void 0===n&&(n="");if("production"!==process.env.NODE_ENV&&"string"!=typeof t&&!1===e(t))throw new Error('[vue-table-js] Column must be type of "string" or "Object". Actual '+t);return"string"==typeof t?{key:t,path:i(n,t)}:Object.assign({},t,{path:i(n,t.key)})}(s,c),f=l.key,d=l.path,p=l.children,h=t(l,["key","path","children"]),v=h,y=Object.assign({},{key:f,path:d,attributes:{rowSpan:a,colSpan:1}},v);Array.isArray(p)&&p.length>0?(y.attributes.rowSpan=1,y.attributes.colSpan=function t(e){return e.reduce(function(e,n){return n&&Array.isArray(n.children)&&n.children.length>0?e+t(n.children):e+1},0)}(p),n(r,o,p,a-1,u+1,d)):o.push(y),r[u]?r[u].push(y):r[u]=[y]})}(r,o,n,s),{headers:r,leaves:o}}function i(t,e){return t&&e?t+"."+e:t||e||""}var s=function(t,e,n,r,o,i,s,a,u,c){"boolean"!=typeof s&&(u=a,a=s,s=!1);var l,f="function"==typeof n?n.options:n;if(t&&t.render&&(f.render=t.render,f.staticRenderFns=t.staticRenderFns,f._compiled=!0,o&&(f.functional=!0)),r&&(f._scopeId=r),i?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,u(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},f._ssrRegister=l):e&&(l=s?function(){e.call(this,c(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),l)if(f.functional){var d=f.render;f.render=function(t,e){return l.call(e),d(t,e)}}else{var p=f.beforeCreate;f.beforeCreate=p?[].concat(p,l):[l]}return n},a={props:{columns:{type:Array,required:!0},rowClass:{type:[String,Function],default:null},data:{type:Array,default:function(){return[]}},multipleSorting:{type:Boolean,default:!1}},data:function(){return{headers:[],leaves:[],orders:{}}},watch:{columns:{handler:function(t){var e=o(t),n=e.headers,r=e.leaves;this.headers=n,this.leaves=r},immediate:!0,deep:!0}},methods:{value:function(t){return"function"==typeof t?t():t},isPlainObject:e,resolveTitle:function(t){return"string"==typeof t.title?t.title:"function"==typeof t.title?t.title():t.key},resolveRowClass:function(t,e){return"function"==typeof this.rowClass?this.rowClass(t,e):this.rowClass},display:function(t,r){var o=function(t,r,o){if(void 0===o&&(o=void 0),!t||!e(t))return o;for(var i=t,s="string"==typeof r&&r.length>0?r.split("."):[],a=0;a<s.length;a++){if(!n(i,s[a]))return o;i=i[s[a]]}return i}(t,r.path);if(n(r,"transform")){if("function"==typeof r.transform)return r.transform(o);if(Array.isArray(r.transform))return r.transform.reduce(function(t,e){return e(t)},o)}return o},onColumnClick:function(e){e.sortable&&(this.orders=function(e,o,i){var s,a,u=r(o),c=n(e,u)?"desc"===e[u]?"asc":null:"desc";if(null===c)return e[u],t(e,[String(u)]);return i?Object.assign({},e,((s={})[u]=c,s)):((a={})[u]=c,a)}(this.orders,e,this.multipleSorting),this.$emit("sorted",Object.entries(this.orders).map(function(t){return{column:t[0],direction:t[1]}})))},columnClasses:function(t){return[{sortable:t.sortable},this.orders[r(t)]]}}},u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",[n("thead",t._l(t.headers,function(e){return n("tr",[t._l(e,function(e){return[t.isPlainObject(e.title)?n(e.title,t._b({tag:"component",class:t.columnClasses(e),on:{click:function(n){return t.onColumnClick(e)}}},"component",e.attributes,!1)):n("th",t._b({class:t.columnClasses(e),on:{click:function(n){return t.onColumnClick(e)}}},"th",e.attributes,!1),[t._v("\n                "+t._s(t.resolveTitle(e))+"\n            ")])]})],2)}),0),t._v(" "),n("tbody",[Array.isArray(t.data)&&t.data.length>0?t._l(t.data,function(e,r){return n("tr",{class:t.resolveRowClass(e,r)},[t._l(t.leaves,function(r){return[r.component?n(r.component,t._g(t._b({tag:"component",attrs:{data:t.display(e,r)}},"component",t.value(r.props),!1),r.listeners)):n("td",[t._v(t._s(t.display(e,r)))])]})],2)}):[n("tr",[n("td",{attrs:{colspan:t.leaves.length}},[t._t("no-data")],2)])]],2)])};u._withStripped=!0;return s({render:u,staticRenderFns:[]},void 0,a,void 0,!1,void 0,void 0,void 0)}();
